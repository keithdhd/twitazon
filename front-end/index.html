<html>
<head>
  <title>Become a Bestseller</title>
  <!-- External JS Resources --> 
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.5/angular.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/auth0/angular-jwt/master/dist/angular-jwt.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>

  <!-- Internal JS Resources --> 
  <script src="js/app.js"></script>
  <script type="text/javascript" src="js/services/authInterceptor.js"></script>
  <script type="text/javascript" src="js/services/tokenService.js"></script>
  <script type="text/javascript" src="js/models/user.js"></script>
  <script type="text/javascript" src="js/controllers/usersController.js"></script>
  
  <!-- Style -->
  <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>
<body ng-app="Twitzon" ng-controller="usersController as users">
  <header>
    <h1>Become an Instant Bestseller</h1>
    <h2>Make a book cover from your Twitter feed.</h2>
    <nav>
      <ul>
        <li ng-hide="users.isLoggedIn()"><a href="#authorize">Authorize</a></li>
        <li ng-hide="users.isLoggedIn()"><a href="#join">Join</a></li>
        <li ng-show="users.isLoggedIn()" ng-click="users.getUsers()"><a>Users</a></li>
        <li ng-show="users.isLoggedIn()"><a ng-click="users.disappear()">Disappear</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="message">
      {{users.message}}
    </div>

    <div ng-show="users.isLoggedIn()">
      <h3>Welcome back {{ users.user.firstname }}</h3>
    </div>

    <section ng-show="users.isLoggedIn() && self.getUsers()">
      <p>Here is the list of our current assets:</p>
      <ul>
        <li ng-repeat="user in users.all">
          <strong>{{user.email}}</strong> - {{user.firstname}}
        </li>
      </ul>
    </section>

    <section ng-hide="users.isLoggedIn()">
      <h3>Login</h3>
      <form id="authorize" ng-hide="users.isLoggedIn()" ng-submit="users.authorize()">
        <label for="email">Email</label>
        <input type="text" name="email" placeholder="Email" ng-model="users.user.email">
        
        <label for="password">Password</label>
        <input type="password" name="password" placeholder="Password" ng-model="users.user.password">
        
        <input type="submit" value="Access">
      </form>
    </section>
   
    <section ng-hide="users.isLoggedIn()">
      <h3>Join</h3>
      <form id="join" ng-hide="users.isLoggedIn()" ng-submit="users.join()">
        <label for="email">Email</label>
        <input type="text" name="email" placeholder="Email" ng-model="users.user.email">

        <label for="firstname">First Name</label>
        <input type="firstname" name="firstname" placeholder="First name" ng-model="users.user.firstname">

        <label for="lastname">Last Name</label>
        <input type="lastname" name="lastname" placeholder="Last name" ng-model="users.user.lastname">

        <label for="password">Password</label>
        <input type="password" name="password" placeholder="Password" ng-model="users.user.password">

        <input type="submit" value="Go">
      </form>
    </section>

  </main>
</body>
</html>